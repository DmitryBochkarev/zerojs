Zero={},Zero.uuid=function(){var e=1;return function(){return e++}}(),Zero.deferred=function(){function e(e,t){var n;return function(){n&&clearTimeout(n),n=setTimeout(t.bind(this),e)}}return e}(),Zero.EventHandler=function(){function e(e,t){this.fn=e,this.once=!!t}return e}(),Zero.EventEmitter=function(){function t(){this._handlers={}}var e=Zero.EventHandler,n=t.prototype;return n.on=function(t,n){var r=n instanceof e?n:new e(n,!1),i=this._handlers;return i[t]||(i[t]=[]),i[t].push(r),this},n.off=function(t,n){var r,i=this,s=i._handlers;return t?s[t]&&s[t].length>0?n?(r=n instanceof e?n.fn:n,s[t]=s[t].filter(function(e){return e.fn!==r}),i):(s[t]=[],i):i:(s=i._handlers={},i)},n.once=function(t,n){var r=new e(n instanceof e?n.fn:n,!0);return this.on(t,r)},n.emit=function(){var e=arguments[0],t,n=this,r=n._handlers;return r[e]&&r[e].length>0?(t=Array.prototype.splice.call(arguments,1),r[e]=r[e].filter(function(e){return e.fn.apply(n,t),!e.once}),n):n},t}(),Zero.Observable=function(){function t(t){e.call(this),this.uuid=Zero.uuid(),this.value=t}var e=Zero.EventEmitter,n=t.prototype=new e;return n.set=function(e){var t=this,n=t.value;return t.emit("set"),n!==e&&(t.value=e,t.emit("change",e,n)),t},n.get=function(){return this.emit("get"),this.value},t}(),Zero.Computed=function(){function t(t){var n=this;e.call(n),n.uudi=Zero.uuid(),n.fn=t,n.value=null,n.shouldRecompute=!0}var e=Zero.EventEmitter,n=t.prototype=new e;return n.get=function(e){var t=this,n=t.value,r;return t.emit("get"),t.shouldRecompute&&(t.emit("start compute"),r=t.fn.call(e),t.shouldRecompute=!1,t.emit("end compute"),n!==r&&(t.value=r,t.emit("change",r,n))),t.value},t}(),Zero.Isolation=function(){function t(){e.call(this),this.observables={},this.computed={}}var e=Zero.EventEmitter,n=t.prototype=new e;return n.observable=function(e){var t=new Zero.Observable(e);return this.registerObservable(t)},n.registerObservable=function(e){function r(){return arguments.length>0?(e.set(arguments[0]),this):e.get()}var t=this,n=e.uuid;return t.observables[n]=e,e.on("get",function(){t.emit("read:observable",n)}),e.on("change",function(){t.emit("write:observable",n)}),r},n.computed=function(e){var t=new Zero.Computed(e);return this.registerComputed(t)},n.registerComputed=function(e){function r(){}var t=this,n=e.uuid;return t.computed[n]=e,e.on("get",function(){t.emit("read:computed",n)}),e.on("change",function(){t.emit("write:computed",n)}),e.on("start compute",function(){t.emit("start compute",n)}),e.on("end compute",function(){t.emit("end compute",n)}),r},t}();